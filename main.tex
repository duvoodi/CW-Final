\documentclass[titlepage]{article}

\usepackage{fancyhdr}
\pagestyle{fancy}

\usepackage{xcolor}
\definecolor{Gray}{rgb}{0.5,0.5,0.5} % خاکستری

\usepackage[pdfborder={0 0 0}, bookmarks=true]{hyperref}
% آپشن اول بردر ها لینک را حذف میکند و باید دستی لینک ها را اندر لاین کرد

\usepackage{graphicx}
\graphicspath{ {./img/} }

\usepackage[most]{tcolorbox}

\usepackage{changepage}

\usepackage{listings}
\lstset{
  basicstyle=\ttfamily\small,           % فونت اصلی برای کد
  numbers=left,                         % شماره خطوط در سمت چپ
  numberstyle=\tiny\color{Gray},        % استایل شماره خطوط
  breaklines=true,                      % شکستن خطوط بلند
  breakatwhitespace=true,               % شکستن خطوط در محل فاصله‌ها
  showstringspaces=false,               % حذف فاصله‌های خاص در رشته‌ها
  tabsize=2,                            % اندازه تب
  captionpos=b,                         % موقعیت عنوان (بالا/پایین)
}

\usepackage{comment}

\begin{document}

\tcbset{
  inline/.style={
    colframe=gray,                     % رنگ قاب
    colback=gray!10,                   % رنگ پس‌زمینه
    fonttitle=\bfseries,               % استایل عنوان
    boxrule=0.4pt,                     % ضخامت قاب
    left=-1pt, right=-1pt,             % فاصله متن از چپ و راست
    top=0pt, bottom=0pt,               % فاصله متن از بالا و پایین
    height=10.9pt,                     % ارتفاع ثابت باکس
    valign=center,                     % تراز عمودی محتوا در باکس
    baseline=2.9pt,                    % تنظیم خط پایه باکس
    before=\vspace{0pt},               % فاصله قبل از باکس
    after=\vspace{0pt},                % فاصله بعد از باکس
    enhanced,                          % فعال‌سازی تنظیمات پیشرفته
    breakable,                         % اجازه شکستن خطوط
    fontupper=\ttfamily\small,         % تنظیم فونت محتوای داخل باکس
  },
}
\tcbset{
  codebox/.style={
    colframe=gray,                     % رنگ قاب
    colback=gray!10,                   % رنگ پس‌زمینه
    boxrule=0.4pt,                     % ضخامت قاب
    left=1pt, right=1pt,               % فاصله از چپ و راست
    top=-4pt, bottom=-4pt,             % فاصله از بالا و پایین
    valign=center,                     % تراز عمودی محتوا در باکس
    enhanced,                          % فعال‌سازی تنظیمات پیشرفته
    breakable,                         % اجازه شکستن خطوط
  },
}
\tcbset{
  picframe/.style={
    colframe=gray,                     % رنگ قاب
    colback=gray!10,                   % رنگ پس‌زمینه
    boxrule=0.4pt,                     % ضخامت قاب
    left=1pt, right=1pt,               % فاصله از چپ و راست
    top=1pt, bottom=1pt,               % فاصله از بالا و پایین
    valign=center,                     % تراز عمودی محتوا در باکس
    enhanced,                          % فعال‌سازی تنظیمات پیشرفته
    breakable,                         % اجازه شکستن خطوط
  },
}

\title{\textbf{Computer Workshop\\Final Assignment}}
\author{Dr. MalekiMajd}
\date{Amir Mohammad Davoodi\\Winter of 4031}
\maketitle

\fancyhead{}
\fancyhead[L]{Final Assignment}
\fancyhead[R]{Computer Workshop Course}
\fancyfoot{}
\fancyfoot[C]{Page \thepage}

\tableofcontents 

\pagebreak

\section{Git and GitHub}

\subsection{Repository Initialization and Commits}
\begin{enumerate}
\item \textbf{Create a GitHub Repository}  
\\First, I created a new repository on GitHub. This repository would contain my \LaTeX \hspace{0pt} source files and the configuration for the workflow.
\item \textbf{Clone the Repository Locally} 
\\To work on the repository locally, I cloned it to my computer using the following command:  
\begin{adjustwidth}{1cm}{1cm}
\begin{tcolorbox}[codebox]
\begin{lstlisting}[numbers=none]
  git clone <repo_link>
\end{lstlisting}
\end{tcolorbox}
\end{adjustwidth}
\item \textbf{Local Changes and Git Operations}
\\After that, I made my changes locally and in each step, I added and committed changes, and pushed them to my GitHub repository, with the following commands:
\begin{adjustwidth}{1cm}{1cm}
\begin{tcolorbox}[codebox]
\begin{lstlisting}[numbers=none]
  git commit -am "commit message"
\end{lstlisting}
\end{tcolorbox}
\end{adjustwidth}
\begin{adjustwidth}{1cm}{1cm}
\begin{tcolorbox}[codebox]
\begin{lstlisting}[numbers=none]  
  git push --all
\end{lstlisting}
\end{tcolorbox}
\end{adjustwidth}
\end{enumerate}

\subsection{GitHub Actions for \LaTeX \hspace{0pt} Compilation}
In my local repository, I created a GitHub Actions workflow file named \tcbox[inline]{main.yml} in the \tcbox[inline]{.github/workflows/} directory. This file automates the process of compiling the \LaTeX \hspace{0pt} document into a PDF and releasing it whenever a new tag is pushed. 
\vspace{5pt}
\\I set up the workflow file as follows:
\begin{tcolorbox}[codebox]
\begin{lstlisting}
name: Release Compiled PDF 
on:
  push:
    tags:
      - '*.*.*'

jobs:
  build_latex:
    permissions: write-all
    runs-on: ubuntu-latest
    steps:
      - name: Set up Git repository
        uses: actions/checkout@v2
      - name: Compile LaTeX document
        uses: xu-cheng/latex-action@v2
        with:
          root_file: main.tex

      - name: Create Release
        id: create_release
        uses: actions/create-release@v1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          tag_name: ${{ github.ref }}
          release_name: Release ${{ github.ref }}
          draft: false
          prerelease: false

      - name: Upload Release Asset
        id: upload-release-asset 
        uses: actions/upload-release-asset@v1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          upload_url: ${{ steps.create_release.outputs.upload_url }} 
          asset_path: ./main.pdf
          asset_name: main.pdf
          asset_content_type: pdf
\end{lstlisting}  
\end{tcolorbox}
\vspace{5pt}
\noindent Here's a breakdown of what each part does:
\begin{itemize}
\item \textbf{Workflow Trigger (on)}
\\ The workflow is triggered when a tag with a version number (in the format of \tcbox[inline]{*.*.*}, such as \tcbox[inline]{1.0.0}) is pushed to the repository.
\item \textbf{Job (build\_latex)}
\\ This job runs on an Ubuntu-based virtual machine (\tcbox[inline]{runs-on: ubuntu-latest}).
\item \textbf{Steps:}
\begin{itemize}
\item Set up Git repository: Uses the \tcbox[inline]{actions/checkout@v2} action to clone the repository so that the workflow can access the \LaTeX \hspace{0pt} files.
\item Compile \LaTeX \hspace{0pt} file: Uses the \tcbox[inline]{xu-cheng/latex-action@v2} action to compile the \LaTeX \hspace{0pt} document \tcbox[inline]{main.tex} into a PDF. This step produces a \tcbox[inline]{main.pdf} file.
\item Create Release: Uses the \tcbox[inline]{actions/create-release@v1} action to create a GitHub release with the tag name based on the version pushed (e.g., \tcbox[inline]{1.0.0}). It sets the release as non-draft and non-prerelease, and attaches a release name (e.g., Release \tcbox[inline]{1.0.0}).
\item Upload Release Asset: Uses the \tcbox[inline]{actions/upload-release-asset@v1} action to upload the compiled PDF \tcbox[inline]{main.pdf} as an asset to the release created in the previous step. This allows users to download the PDF from the release page.
\end{itemize}
\end{itemize}

\section{Exploration Tasks}

\subsection{Vim Advanced Features}
Below are three advanced features of Vim that not have been covered in class:
\begin{enumerate}
\item \textbf{Text Objects}
\\Text objects in Vim are used to select a specific region of text based on its structure. Instead of manually selecting text by character or line, text objects let you select entire blocks of text such as paragraphs, sentences, or words.
Examples:
\begin{itemize}
  \item \tcbox[inline]{ciw} Change inside a word (deletes the word and allows you to insert new text).
  \item \tcbox[inline]{dap} Delete a paragraph.
  \item \tcbox[inline]{yi'} Yank text inside single quotes (copy the text within single quotes).
\end{itemize}
Text objects significantly enhance the speed and precision of text manipulation without needing to rely on the arrow keys.
\item \textbf{Macros (Recording Commands)}
\\Vim macros allow you to record a sequence of commands and then replay them to automate repetitive tasks. Macros are particularly useful when performing the same sequence of actions on multiple lines or chunks of text.
How to Use:
\begin{enumerate}
  \item Start recording with \tcbox[inline]{q} followed by \tcbox[inline]{a} letter (e.g., \tcbox[inline]{qa} to record to the register a).
  \item Perform the desired actions.
  \item Stop recording with \tcbox[inline]{q}.
  \item Replay the macro with \tcbox[inline]{@a}.
  \item You can also repeat the macro multiple times with a number prefix (e.g., \tcbox[inline]{5@a} to run the macro 5 times).
\end{enumerate}
Macros are powerful tools for efficiency in Vim, especially for repetitive editing tasks.
\item \textbf{Split Windows and Tabs}
\\Vim allows you to split the editor window both horizontally and vertically. This is useful when you need to view multiple files at once or reference different parts of the same file without losing context.
How to Use:
\begin{itemize}
\item Horizontal split: \tcbox[inline]{:split} or \tcbox[inline]{:sp}.
\item Vertical split: \tcbox[inline]{:vsplit} or \tcbox[inline]{:vsp}.
\item Navigate between splits using \tcbox[inline]{Ctrl+w} followed by the direction key (\tcbox[inline]{h}, \tcbox[inline]{j}, \tcbox[inline]{k}, or \tcbox[inline]{l}).
\item You can also use tabs (\tcbox[inline]{:tabnew}) to work with multiple files in separate tabs.
\end{itemize}
These features help in multitasking, enhancing the workflow and organization within Vim.
\end{enumerate}

\end{document}